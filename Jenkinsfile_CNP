#!groovy

@Library("Infrastructure")

def type = "java"
def product = "hmc"
def component = "operational-reports-runner"

GradleBuilder builder = new GradleBuilder(this, product)

withPipeline(type, product, component) {

    after('test') {
        builder.gradle('integration')
        // hmcts/cnp-jenkins-library may fail to copy artifacts after checkstyle error so repeat command (see /src/uk/gov/hmcts/contino/GradleBuilder.groovy)
        steps.archiveArtifacts allowEmptyArchive: true, artifacts: '**/reports/checkstyle/*.html'
    }

}
